{
  "paths": {
      "get": {
          "summary": "Get the list of all bots",
          "tags": ["Bots"],
          "responses": {
              "200": {
                  "description": "Successful response",
                  "content": {
                      "application/json": {
                          "schema": {
                              "type": "array",
                              "items": {
                                  "$ref": "#/components/schemas/Bot"
                              }
                          },
                          "example": [
                              {
                                  "id": 1,
                                  "market": "LTC_USDT",
                                  "exchange": "binance",
                                  "isActive": false,
                                  "created_at": "2025-03-06 08:01:51",
                                  "updated_at": "2025-03-06 10:21:02",
                                  "settings": {
                                      "trade_amount_min": 0.1,
                                      "trade_amount_max": 1,
                                      "frequency_from": 30,
                                      "frequency_to": 60,
                                      "price_factor": 5,
                                      "market_gap": 0.05
                                  }
                              },
                              {
                                  "id": 2,
                                  "market": "ETH_BTC",
                                  "exchange": "kraken",
                                  "isActive": true,
                                  "created_at": "2025-03-06 10:10:30",
                                  "updated_at": "2025-03-06 10:10:30",
                                  "settings": {
                                      "trade_amount_min": 0.1,
                                      "trade_amount_max": 1,
                                      "frequency_from": 30,
                                      "frequency_to": 65,
                                      "price_factor": 0.01,
                                      "market_gap": 0.05
                                  }
                              }
                          ]
                      }
                  }
              }
          }
      },
      "post": {
          "summary": "Create a new bot",
          "tags": ["Bots"],
          "requestBody": {
              "required": true,
              "content": {
                  "application/json": {
                      "schema": {
                          "type": "object",
                          "properties": {
                              "market": {
                                  "type": "string",
                                  "description": "Trading pair (e.g., LTC_USDT)"
                              },
                              "exchange": {
                                  "type": "string",
                                  "description": "Exchange name (e.g., binance, kraken)"
                              },
                              "trade_amount_min": {
                                  "type": "number",
                                  "description": "Minimum trade amount"
                              },
                              "trade_amount_max": {
                                  "type": "number",
                                  "description": "Maximum trade amount"
                              },
                              "frequency_from": {
                                  "type": "integer",
                                  "description": "Minimum trading frequency (in seconds)"
                              },
                              "frequency_to": {
                                  "type": "integer",
                                  "description": "Maximum trading frequency (in seconds)"
                              },
                              "price_factor": {
                                  "type": "number",
                                  "description": "Price factor"
                              },
                              "market_gap": {
                                  "type": "number",
                                  "description": "Percentage step from the best price on the external exchange"
                              }
                          },
                          "required": ["market", "exchange"]
                      },
                      "example": {
                          "market": "BTC_USDT",
                          "exchange": "binance",
                          "trade_amount_min": 0.1,
                          "trade_amount_max": 1.0,
                          "frequency_from": 30,
                          "frequency_to": 60,
                          "price_factor": 0.01,
                          "market_gap": 0.05
                      }
                  }
              }
          },
          "responses": {
              "201": {
                  "description": "Bot successfully created",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Bot"
                          },
                          "example": {
                              "id": 3,
                              "market": "BTC_USDT",
                              "exchange": "binance",
                              "isActive": true,
                              "created_at": "2025-03-06 10:30:00",
                              "updated_at": "2025-03-06 10:30:00",
                              "settings": {
                                  "trade_amount_min": 0.1,
                                  "trade_amount_max": 1.0,
                                  "frequency_from": 30,
                                  "frequency_to": 60,
                                  "price_factor": 0.01,
                                  "market_gap": 0.05
                              }
                          }
                      }
                  }
              },
              "400": {
                  "description": "Validation error",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Error"
                          },
                          "example": {
                              "error": "Bot for this pair already exists"
                          }
                      }
                  }
              }
          }
      }
  },
  "/bots/{id}": {
      "get": {
          "summary": "Get a bot by ID",
          "tags": ["Bots"],
          "parameters": [
              {
                  "name": "id",
                  "in": "path",
                  "required": true,
                  "schema": {
                      "type": "integer"
                  },
                  "description": "Bot ID"
              }
          ],
          "responses": {
              "200": {
                  "description": "Successful response",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Bot"
                          },
                          "example": {
                              "id": 1,
                              "market": "LTC_USDT",
                              "exchange": "binance",
                              "isActive": false,
                              "created_at": "2025-03-06 08:01:51",
                              "updated_at": "2025-03-06 10:21:02",
                              "settings": {
                                  "trade_amount_min": 0.1,
                                  "trade_amount_max": 1,
                                  "frequency_from": 30,
                                  "frequency_to": 60,
                                  "price_factor": 5,
                                  "market_gap": 0.05
                              }
                          }
                      }
                  }
              },
              "404": {
                  "description": "Bot not found",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Error"
                          },
                          "example": {
                              "error": "Bot not found"
                          }
                      }
                  }
              }
          }
      },
      "put": {
          "summary": "Update a bot",
          "tags": ["Bots"],
          "parameters": [
              {
                  "name": "id",
                  "in": "path",
                  "required": true,
                  "schema": {
                      "type": "integer"
                  },
                "description": "Bot ID"
              }
          ],
          "requestBody": {
              "required": true,
              "content": {
                  "application/json": {
                      "schema": {
                          "type": "object",
                          "properties": {
                              "settings": {
                                  "type": "object",
                                  "properties": {
                                      "trade_amount_min": {
                                          "type": "number"
                                      },
                                      "trade_amount_max": {
                                          "type": "number"
                                      },
                                      "frequency_from": {
                                          "type": "integer"
                                      },
                                      "frequency_to": {
                                          "type": "integer"
                                      },
                                      "price_factor": {
                                          "type": "number"
                                      },
                                      "market_gap": {
                                          "type": "number",
                                          "description": "Percentage step from the best price on the external exchange"
                                      }
                                  }
                              },
                              "isActive": {
                                  "type": "boolean"
                              }
                          }
                      },
                      "example": {
                          "settings": {
                              "trade_amount_min": 0.2,
                              "trade_amount_max": 2.0,
                              "frequency_from": 45,
                              "frequency_to": 90,
                              "price_factor": 0.02,
                              "market_gap": 0.05
                          },
                          "isActive": true
                      }
                  }
              }
          },
          "responses": {
              "200": {
                  "description": "Bot successfully updated",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Bot"
                          },
                          "example": {
                              "id": 1,
                              "market": "LTC_USDT",
                              "exchange": "binance",
                              "isActive": true,
                              "created_at": "2025-03-06 08:01:51",
                              "updated_at": "2025-03-06 10:35:00",
                              "settings": {
                                  "trade_amount_min": 0.2,
                                  "trade_amount_max": 2.0,
                                  "frequency_from": 45,
                                  "frequency_to": 90,
                                  "price_factor": 0.02,
                                  "market_gap": 0.05
                              }
                          }
                      }
                  }
              },
              "404": {
                  "description": "Bot not found",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Error"
                          },
                          "example": {
                              "error": "Bot not found"
                          }
                      }
                  }
              }
          }
      },
      "delete": {
          "summary": "Delete a bot",
          "tags": ["Bots"],
          "parameters": [
              {
                  "name": "id",
                  "in": "path",
                  "required": true,
                  "schema": {
                      "type": "integer"
                  },
                  "description": "Bot ID"
              }
          ],
          "responses": {
              "204": {
                  "description": "Bot successfully deleted"
              },
              "404": {
                  "description": "Bot not found",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Error"
                          },
                          "example": {
                              "error": "Bot not found"
                          }
                      }
                  }
              }
          }
      }
  },
  "/bots/{id}/enable": {
      "put": {
          "summary": "Enable a bot",
          "tags": ["Bots"],
          "parameters": [
              {
                  "name": "id",
                  "in": "path",
                  "required": true,
                  "schema": {
                      "type": "integer"
                  },
                  "description": "Bot ID"
              }
          ],
          "responses": {
              "200": {
                  "description": "Bot successfully enabled",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Bot"
                          },
                          "example": {
                              "id": 1,
                              "market": "LTC_USDT",
                              "exchange": "binance",
                              "isActive": true,
                              "created_at": "2025-03-06 08:01:51",
                              "updated_at": "2025-03-06 10:40:00",
                              "settings": {
                                  "trade_amount_min": 0.1,
                                  "trade_amount_max": 1,
                                  "frequency_from": 30,
                                  "frequency_to": 60,
                                  "price_factor": 5,
                                  "market_gap": 0.05
                              }
                          }
                      }
                  }
              },
              "404": {
                  "description": "Bot not found",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Error"
                          },
                          "example": {
                              "error": "Bot not found"
                          }
                      }
                  }
              }
          }
      }
  },
  "/bots/{id}/disable": {
      "put": {
          "summary": "Disable a bot",
          "tags": ["Bots"],
          "parameters": [
              {
                  "name": "id",
                  "in": "path",
                  "required": true,
                  "schema": {
                      "type": "integer"
                  },
                  "description": "Bot ID"
              }
          ],
          "responses": {
              "200": {
                  "description": "Bot successfully disabled",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Bot"
                          },
                          "example": {
                              "id": 1,
                              "market": "LTC_USDT",
                              "exchange": "binance",
                              "isActive": false,
                              "created_at": "2025-03-06 08:01:51",
                              "updated_at": "2025-03-06 10:45:00",
                              "settings": {
                                  "trade_amount_min": 0.1,
                                  "trade_amount_max": 1,
                                  "frequency_from": 30,
                                  "frequency_to": 60,
                                  "price_factor": 5,
                                  "market_gap": 0.05
                              }
                          }
                      }
                  }
              },
              "404": {
                  "description": "Bot not found",
                  "content": {
                      "application/json": {
                          "schema": {
                              "$ref": "#/components/schemas/Error"
                          },
                          "example": {
                              "error": "Bot not found"
                          }
                      }
                  }
              }
          }
      }
  },
  "/pairs": {
      "get": {
          "summary": "Get the list of all available pairs",
          "tags": ["Pairs"],
          "responses": {
              "200": {
                  "description": "Successful response",
                  "content": {
                      "application/json": {
                          "schema": {
                              "type": "array",
                              "items": {
                                  "type": "object",
                                  "properties": {
                                      "name": {
                                          "type": "string",
                                          "description": "Pair name"
                                      },
                                      "exchanges": {
                                          "type": "array",
                                          "items": {
                                              "type": "string"
                                          },
                                          "description": "List of exchanges where the pair is available"
                                      }
                                  }
                              }
                          },
                          "example": [
                              {
                                  "name": "BTC_USDT",
                                  "exchanges": ["binance", "kraken"]
                              },
                              {
                                  "name": "ETH_USDT",
                                  "exchanges": ["binance", "kraken"]
                              },
                              {
                                  "name": "LTC_USDT",
                                  "exchanges": ["binance"]
                              }
                          ]
                      }
                  }
              }
          }
      }
  }
},
"components": {
  "schemas": {
      "Bot": {
          "type": "object",
          "properties": {
              "id": {
                  "type": "integer",
                  "description": "Unique bot identifier"
              },
              "market": {
                  "type": "string",
                  "description": "Trading pair (e.g., LTC_USDT)"
              },
              "exchange": {
                  "type": "string",
                  "description": "Exchange name (e.g., binance, kraken)"
              },
              "isActive": {
                  "type": "boolean",
                  "description": "Bot activity status"
              },
              "created_at": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Bot creation date"
              },
              "updated_at": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Bot last update date"
              },
              "settings": {
                  "type": "object",
                  "description": "Bot settings",
                  "properties": {
                      "trade_amount_min": {
                          "type": "number"
                      },
                      "trade_amount_max": {
                          "type": "number"
                      },
                      "frequency_from": {
                          "type": "integer"
                      },
                      "frequency_to": {
                          "type": "integer"
                      },
                      "price_factor": {
                          "type": "number"
                      },
                      "market_gap": {
                          "type": "number",
                          "description": "Percentage step from the best price on the external exchange"
                      }
                  }
              }
          }
      },
      "Error": {
          "type": "object",
          "properties": {
              "error": {
                  "type": "string",
                  "description": "Error message"
              }
          }
      }
  }
}